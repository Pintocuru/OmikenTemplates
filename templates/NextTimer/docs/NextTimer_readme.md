# スナイプタイマー NextTimer v0.2.0

最終更新日：2025/02/27

OBSの使用を想定した、ライバー・配信者向けカウントダウンタイマーです。

## このジェネレーターを利用するときは

- 本プラグインの使用に伴ういかなる損害についても責任を負いません。ご利用は自己責任でお願いします。
- 商業利用も含め自由に利用することができます。
- プラグインの仕様は予告なく変更される可能性があります。
- 一部[わんコメ](https://onecomme.com/) の仕様を使用しています。

## このテンプレートは何？

![タイマー使用例](readme_image/24092701.jpg)

動作例 : https://www.youtube.com/watch?v=Z6ZN8FEDzp8

### 🎬 OBSで簡単操作！楽しく使えるカウントダウンタイマー

視聴者参加型の実況、朝活・昼活・夕活の生配信を楽しむアナタへ！
視聴者参加型のゲームのスナイプ、雑談の目安時間等に使える、カウントダウンタイマーです。

### 💬 チャットコメントで即スタート！

配信者向けコメントアプリ **「わんコメ」** と連携し、視聴者のコメントでタイマーを操作可能！  
時間指定も自由自在で、配信の進行がスムーズに。

## 📌 主な特徴

1. 🎮 OBSの「対話モード」でワンタッチ操作

- **OBSのボタン操作でタイマーを簡単にコントロール**

1. ⏳ 柔軟な時間指定で自由にカウント

- 「11:20」や「21時10分40秒」などの指定時刻カウント
- 全角・半角どちらでも入力可能でスムーズな操作

1. 👥 モデレーターと連携して配信をサポート

- 配信者だけでなく、モデレーターもコメントでタイマーを設定可能
- 忙しい配信中でもタイマー管理を分担できるので安心

1. 🎨 視覚的に楽しいアニメーション

- オドメーター風の動きのあるカウントダウン表示
- たくさんのカウンターから選べる

1. 🔥 効果音をOBS上にで鳴らせる「WordParty」機能と連携

- 「タイマー起動時」「残り10秒」などのタイミングで効果音や動画をOBS上に表示できる
- カウントダウン終了時に動画や効果音を再生して配信を盛り上げる

1. 🌍 いろんな配信プラットフォームで使える！

- 「わんコメ」に対応したすべてのプラットフォームで利用可能

## 導入方法

### わんコメにこのジェネレーターを追加する

![ジェネレーターを追加する](readme_image/02.jpg)

1. **スナイプタイマー NextTimer** https://pintocuru.booth.pm/items/6136477 をダウンロード
2. わんコメの右上【…】（三点リーダー）から「テンプレート」を選択
3. ファイルアイコンをクリックし、ダウンロードした zip ファイル（解凍不要）を選択

### このジェネレーターを OBS に追加する

![OBSにテンプレートを追加](readme_image/04.png)

- わんコメの右上にある【…】（三点リーダー）をクリックし、「テンプレート」を選択。
- 「カスタム」タブから、「VisitCounter」を見つける。
- 「ここをドラッグして OBS に入れる」の指示通り、両方のテンプレートを OBS のソースに追加。

### OBS に追加したソースの名称変更

- 追加したテンプレート「index.html」という名称を、わかりやすい名前（例：VisitCounter 等）に変更。

### タイマーの種類を変更する

#### ローカルファイルの参照を変更する

- 上記設定後、プロパティから「ローカルファイル」にある参照ボタンを押す
- 「pattern\_\*\*.html」とある HTML ファイルを選択

### テンプレートのプロパティを編集

![プロパティから、幅・高さを編集](readme_image/05.png)

- このジェネレーターのソースを右クリックし、「プロパティ」を選択
- プロパティから、幅・高さを編集します。
- プロパティから以下の設定を行います
  - 「表示されていないときにソースをシャットダウンする」にチェックを入れる。

**【注意】これら設定をしていないと、以下のような不具合が発生する可能性があります**

- 非表示にしているのに WordParty が起動し、音が鳴る等で配信に支障が出る

## カスタマイズ(表示モードを変更する)

![メモ帳で編集中…](readme_image/06.png)

- 基本的にはそのまま使用可能です。
- カスタマイズするには、「NextTimer」フォルダ内の「index.html」を、メモ帳 等で編集してください。

### index.html(他すべての html ファイル)

- CSS 変数で設定してます。
- 8 行目あたりから。

#### --after-show:時間経過後に表示する時間(秒)

- カウントダウン終了後、表示する時間です。

#### --second-adjust:秒数を丸める

- スナイプする場合、カウントしやすいよう秒数の 1 桁台を 0 にするための設定です。
- 例として：22 時 40 分 13 秒の時に「10 秒後」と指定したばあい、22 時 40 分 23 秒になりますが、これを＋ 7 秒にし 22 時 40 分 30 秒にセッティングされます
- 30 や 60 にすると、キリのいい時刻に合わせられると思います
- 不要な場合は 0 にしてください。

#### カラー編集

- HTMLカラーコードを入力します。

## カスタマイズ(WordParty の機能の設定)

### script/script.js

わんコメの機能「WordParty」を特定の時間にセットする際に設定します。

#### countParty:WordParty を起動するワード

- キーは「0」または整数を指定します。
- カウントダウンの残り時間が、該当する秒数になった時、そのキーのワードを、WordParty に送ります。
  - WordParty に該当するワードがある場合、それが起動し音声や動画を流すことができます。

## トラブルシューティング

#### Q. OBS で他の時計と比較した時、明らかにズレている

A: ブラウザではミリ秒単位でズレが生じることがあります。これは仕様上避けられません。ご了承ください。

#### Q. 絶対時刻で設定したらカウンターの桁が 5 桁になった

A: 過ぎた時間を設定すると、翌日の同じ時刻とみなしてカウントダウンを開始します。そのため、5桁の表示になることがあります。

#### Q. 「0分後」または10秒未満（5秒など）とコメントすると、タイマーが消えてしまう

A: 仕様です。0分後や10秒未満を入力すると、タイマーは消えるように設計されています。

#### Q. 24 時間より先に設定できる？

A: それはちょっと無理です。

#### Q. モデレーターが設定できないみたい

A: 現時点ではYouTube以外のプラットフォームでの動作確認ができていません。もし問題があればお知らせください。

#### Q. CSS は編集していいの？

A: もちろん、CSSの編集は自由です！

#### Q. わんコメのテンプレエディタは適用できる？

A: できません。そもそも、コメントを表示させるテンプレートではありませんし…

#### Q. カスタマイズした設定が反映されない

A: 以下を確認してください：

1. 編集したファイルを保存したか
2. OBS でシーンをリロードしたか
   設定を反映するには、編集後の保存と OBS シーンのリロードが必要です。

#### Q. カスタマイズしたら反応しない

A: 数値を全角で記入すると「文字列」として認識されることがあります。半角数値で記入しているか確認してください。

## 備考：コードの改変について

### 改変の自由度

- このコードは、わんコメのテンプレートをベースにしていますが、さらなる改変を歓迎します。
- CSS や Javascript など、必要に応じて自由にカスタマイズしてください。

### 著作権と利用規約

- わんコメの利用規約に基づき、本コードは商業利用を含め自由に利用可能です。

### 改変のアイデア例

- UI/UX の改善: デザイン変更、アニメーション追加など
- 新機能の追加: 新しいミニゲーム、統計機能の実装など
- パフォーマンスの最適化: コードの効率化、読み込み速度の向上など

### コードの再配布について

- 改変していないコードの配布は禁止とします。
- コードを改変した場合のみ、再配布が許可されます。
  - クレジットについては、readme に配布元の URL を貼っていただければ OK です

### コミュニティへの貢献

- 改良版を作成した場合、ぜひコミュニティで共有してください。
- 他のクリエイターの参考になり、全体の発展につながります。
- 特に、時刻のズレが直ればとても嬉しいです

### サポートとフィードバック

- コードに関する質問や提案がある場合は、[https://twitter.com/pintocuru]にお寄せください。
- 作者はコミュニケーションが苦手なため、返信が遅れたり、場合によっては返信がない可能性があります。ご了承ください。
- 皆様からのフィードバックは歓迎しますが、即時の対応は難しい場合があります。

注意: コードの一部が最適化されていない場合がありますが、ご了承ください。継続的な改善を行っています。

## バージョン情報

#### v0.1 24/09/27

- 初期リリース。

---

せすじピンとしてます @pintocuru
https://twitter.com/pintocuru
https://www.youtube.com/@pintocuru
